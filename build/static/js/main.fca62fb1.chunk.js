(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(17),u=n.n(s),o=(n(24),n(18)),i=n(8),d=n(3),l=n(45);n(25);function j(e){var t=e.person,n=e.handleDelete,a=t.id,r=t.name,s=t.number;return Object(c.jsxs)("div",{children:[Object(c.jsxs)("span",{children:[r," ",Object(c.jsx)("span",{children:s})]},r),Object(c.jsx)("button",{type:"button",onClick:function(){return n(a,r)},children:"Delete"})]})}function b(e){var t=e.persons,n=e.filterName,a=e.handleDelete;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Numbers"}),t.map((function(e){var t=e.name.toLowerCase();console.log(e.name);var r=n.toLowerCase();return t.indexOf(r)>-1?Object(c.jsx)(j,{person:e,handleDelete:a},e.id):null}))]})}function h(e){var t=e.newName,n=e.newNumber,a=e.handleInputChange,r=e.handleFormSubmit;return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:r,children:[Object(c.jsxs)("div",{children:["Name: ",Object(c.jsx)("input",{type:"text",value:t,name:"name",onChange:a})]}),Object(c.jsxs)("div",{children:["Number: ",Object(c.jsx)("input",{type:"text",value:n,name:"number",onChange:a})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"Add"})})]})})}function m(e){var t=e.filterName,n=e.handleFilterChange;return Object(c.jsxs)("div",{children:["Filter shown with ",Object(c.jsx)("input",{type:"text",value:t,onChange:n})]})}function f(e){var t=e.message,n=t.status,a=t.message;return null===a?null:Object(c.jsx)("div",{className:"success"===n||"updateSuccess"===n?"success":"error",children:a})}var O=n(5),p=n.n(O),v="/api/persons",x=function(){return p.a.get(v).then((function(e){return e.data}))},g=function(e){return p.a.post(v,e).then((function(e){return e.data}))},w=function(e,t){return p.a.put("".concat(v,"/").concat(e.id),t)},C=function(e){return p.a.delete("".concat(v,"/").concat(e))};function N(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),u=Object(d.a)(s,2),j=u[0],O=u[1],p=Object(a.useState)(""),v=Object(d.a)(p,2),N=v[0],S=v[1],y=Object(a.useState)(""),D=Object(d.a)(y,2),F=D[0],k=D[1],A=Object(a.useState)({status:null,message:null}),I=Object(d.a)(A,2),L=I[0],P=I[1],T=function(e,t){"success"===e?P({status:e,message:"Added ".concat(t.name)}):"error"===e?P({status:e,message:"Person ".concat(t.name," was already removed from server")}):"updateSuccess"===e&&P({status:e,message:"Successfully updated ".concat(t.name)}),setTimeout((function(){P({status:null,message:null})}),5e3)};return Object(a.useEffect)((function(){x().then((function(e){return r(e)}))}),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(f,{message:L}),Object(c.jsx)(m,{filterName:F,handleFilterChange:function(e){var t=e.target.value;k(t)}}),Object(c.jsx)("h2",{children:"Add New Contact"}),Object(c.jsx)(h,{newName:j,newNumber:N,handleInputChange:function(e){var t=e.target,n=t.name,c=t.value;"name"===n?O(c):S(c)},handleFormSubmit:function(e){e.preventDefault();var t={id:Object(l.a)(),name:j,number:N,date:new Date},c=n.find((function(e){return e.name===j}));c?window.confirm("".concat(j," is already added to phonebook, would you like to replace the old number with a new one?"))&&w(c,Object(i.a)(Object(i.a)({},c),{},{number:N})).then((function(e){T("updateSuccess",c),r(n.map((function(t){return t.id===e.data.id?e.data:t})))})).catch((function(e){T("error",c)})):g(t).then((function(e){T("success",e),r([].concat(Object(o.a)(n),[e])),O(""),S("")})),O(""),S("")}}),Object(c.jsx)(b,{persons:n,filterName:F,handleDelete:function(e,t){window.confirm("Delete ".concat(t,"?"))&&(C(e),r(n.filter((function(t){return t.id!==e}))))}})]})}var S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};u.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(N,{})}),document.getElementById("root")),S()}},[[43,1,2]]]);
//# sourceMappingURL=main.fca62fb1.chunk.js.map